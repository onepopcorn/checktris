{"version":3,"file":"checktris.min.js","sources":["js/checktris.js"],"names":["drawCourt","court","document","getElementById","style","width","fieldWidth","innerHTML","i","fieldHeight","nextBox","eachblock","type","x","y","dir","fn","bit","row","col","blocks","collision","result","occupiedBlocks","randomPiece","randomPiecesList","length","pieces","splice","Math","floor","random","DIR","UP","drawNext","piecesCount","piece","clearNext","drawBlock","current","next","LEVEL_UP","dropSpeed","render","timestamp","moveDown","move","DOWN","checkCompletedLines","gameOver","line","cells","linesToRemove","push","markLines","addScore","pause","highlightBlock","setTimeout","removeLines","linesCount","clearBlock","console","log","resume","multiplier","lines","score","POINTS_PER_LINE","clearCourt","childNodes","className","checked","id","inputManager","evt","keyCode","KEY","actions","RIGHT","LEFT","rotate","newDirection","MAX","MIN","nextX","nextY","play","e","target","removeEventListener","display","update","addEventListener","confirm","location","reload","animationID","window","requestAnimationFrame","cancelAnimationFrame","shift","SPACE","onload"],"mappings":"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"}