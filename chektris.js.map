{"version":3,"sources":["js/checktris.js"],"names":["window","drawCourt","court","document","getElementById","style","width","fieldWidth","innerHTML","i","fieldHeight","nextBox","eachblock","type","x","y","dir","fn","bit","row","col","blocks","collision","result","occupiedBlocks","randomPiece","randomPiecesList","length","pieces","splice","Math","floor","random","DIR","UP","drawNext","piecesCount","piece","clearNext","drawBlock","current","next","LEVEL_UP","dropSpeed","render","timestamp","moveDown","move","DOWN","checkCompletedLines","gameOver","line","cells","linesToRemove","push","markLines","addScore","pause","highlightBlock","setTimeout","removeLines","linesCount","clearBlock","console","log","resume","multiplier","lines","score","POINTS_PER_LINE","clearCourt","childNodes","className","checked","id","inputManager","evt","keyCode","KEY","actions","RIGHT","LEFT","rotate","newDirection","MAX","MIN","nextX","nextY","play","e","target","removeEventListener","display","update","addEventListener","confirm","location","reload","animationID","requestAnimationFrame","cancelAnimationFrame","shift","SPACE","onload"],"mappings":"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","file":"checktris.min.js"}